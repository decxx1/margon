---
import ColorModeSwitcher from '@/components/ColorModeSwitcher.vue';
import Menu from '@/components/Menu.vue';
import Phone from '@/icons/Phone.astro';
import Map from '@/icons/Map.astro';
import {
    telphoneReadble,
    telphoneLinkeable,
    address,
    mapUrl
} from '@/hooks/env.js'
---

    <!-- TopBar Nav -->
    <nav class="top-header bg-secondary-100 dark:bg-gray-900 transition-all duration-500 h-12 py-2.5">
        <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl px-4 md:px-6">
            <a href={'tel:' + telphoneLinkeable} class="flex items-center text-primary-800 hover:font-semibold dark:text-gray-100">
                <Phone extraClass='text-primary-600 mr-2' />
                {telphoneReadble}
            </a>
            <div class="flex items-center">
                <a
                    href={mapUrl}
                    class="items-center hidden mr-6 text-sm font-medium text-primary-800 dark:text-gray-100 hover:font-semibold sm:flex"
                >
                    <Map extraClass='text-primary-600 mr-2' />
                    {address}
                </a>
            </div>
        </div>
    </nav>
    <!-- End TopBar Nav -->
    <header class="header top-0 z-50 transition-all duration-300 lg:bg-transparent">
        <nav class=" bg-white px-4 lg:px-6 py-4 dark:bg-gray-800 border-primary-200 dark:border-gray-600 border-y">
            <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl">
                <a href="./" class="flex items-center">
                    <img loading="lazy" src="images/logos/margon_logo_corto.webp" class="mr-3 h-4 sm:h-5 dark:hidden" alt="Margon Logo" />
                    <img loading="lazy" src="images/logos/margon_logo_corto_blanco.webp" class="mr-3 h-4 sm:h-5 hidden dark:block" alt="Margon Logo" />
                </a>
                <div class="flex items-center lg:order-2">
                    <ColorModeSwitcher client:load />
                    <button data-collapse-toggle="mobile-menu-2" type="button"
                        class="inline-flex items-center p-2 ml-1 text-sm text-primary-800 rounded-lg lg:hidden hover:bg-primary-50 hover:text-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-100 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
                        aria-controls="mobile-menu-2" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                                clip-rule="evenodd"></path>
                        </svg>
                        <svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
                <div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2">
                    <Menu client:load />
                </div>
                
            </div>
        </nav>
    </header>

<script is:inline>
    //sticky header

      const header = document.querySelector(".header");
      const topHeader = document.querySelector(".top-header");
      window.addEventListener("scroll", () => {
        if (window.scrollY > 0) {
          header.classList.add("sticky");
          header.classList.add("shadow-md");
          topHeader.classList.remove("h-12");
          topHeader.classList.add("h-0");
        } else {
          header.classList.remove("sticky");
          header.classList.remove("shadow-md");
          topHeader.classList.remove("h-0");
          topHeader.classList.add("h-12");
        }
      });
  </script>
  <style>

  </style>